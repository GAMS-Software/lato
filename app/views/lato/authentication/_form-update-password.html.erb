<%

user ||= Lato::User.new

%>

<%= turbo_frame_tag 'authentication_form-update-password' do %>
  <%= form_with model: user, url: lato.authentication_update_password_action_path(id: user.id), data: { turbo_frame: '_self', controller: 'lato-form' } do |form| %>
    <%= lato_form_errors user, class: %w[mb-3] %>
    
    <div class="mb-3">
      <%= lato_form_item_label form, :code, 'Codice ricevuto via email' %>
      <%= lato_form_item_input_text form, :code, required: true %>
    </div>

    <div class="mb-3">
      <%= lato_form_item_label form, :password, 'Nuova password' %>
      <%= lato_form_item_input_password form, :password, required: true %>
    </div>

    <div class="mb-3">
      <%= lato_form_item_label form, :password_confirmation, 'Conferma nuova password' %>
      <%= lato_form_item_input_password form, :password_confirmation, required: true %>
    </div>

    <div class="d-flex justify-content-end">
      <%= lato_form_submit form, 'Conferma' %>
    </div>
  <% end %>
<% end %>